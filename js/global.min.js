function onScroll(){var a=$(document).scrollTop();$(".nav a").each(function(){var b=$(this),c=$(b.attr("href"));c.position().top<=a&&c.position().top+c.height()>a?($(".nav li a").removeClass("active"),b.addClass("active")):b.removeClass("active")})}var $container=$("#isotope-wrap");$container.imagesLoaded(function(){$container.isotope({itemSelector:".project-wrap",layoutMode:"masonry"})}),$("#project-filters").on("click","button",function(){var a=$(this).attr("data-filter");$container.isotope({filter:a})});var contentWidth=$("#projects .container").width(),containerItemSize=Math.floor(contentWidth/320),resizeContainerWidth=340*containerItemSize;$("#isotope-wrap").width(resizeContainerWidth),$("#isotope-wrap").css({marginLeft:(contentWidth-resizeContainerWidth)/2}),$("#about").waypoint(function(a){"down"==a?$(".main-nav").addClass("filled"):$(".main-nav").removeClass("filled")}),$(function(){$("a.page-scroll").bind("click",function(a){var b=$(this);$("html, body").stop().animate({scrollTop:$(b.attr("href")).offset().top},1500,"easeInOutExpo"),a.preventDefault()})}),$(document).ready(function(){$(document).on("scroll",onScroll),$('a[href^="#"]').on("click",function(a){a.preventDefault(),$(document).off("scroll"),$("a").each(function(){$(this).removeClass("active")}),$(this).addClass("active");var b=this.hash;$target=$(b),$("html, body").stop().animate({scrollTop:$target.offset().top+2},500,"swing",function(){window.location.hash=b,$(document).on("scroll",onScroll)})})});