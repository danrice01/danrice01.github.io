function projectContainerSize(){var a=$("#projects .container").width(),b=$(".project-wrap").outerWidth(!0),c=Math.floor(a/b),d=c*b;$("#isotope-wrap").width(d),c>1&&$("#isotope-wrap").css({marginLeft:(a-d)/2})}function onScroll(){var a=$(document).scrollTop();$(".nav a").each(function(){var b=$(this),c=$(b.attr("href"));c.position().top<=a&&c.position().top+c.height()>a?($(".nav li a").removeClass("active"),b.addClass("active")):b.removeClass("active")})}var $container=$("#isotope-wrap");$container.isotope({itemSelector:".project-wrap",layoutMode:"masonry"}),$container.isotope("on","layoutComplete",function(){$(window).trigger("scroll")}),$("#project-filters").on("click","button",function(){var a=$(this).attr("data-filter");$container.isotope({filter:a})}),projectContainerSize(),$(window).resize(function(){projectContainerSize()}),$("img.lazy").lazyload({effect:"fadeIn"}),$(".intro h2:last-of-type").waypoint(function(a){"down"==a?$(".main-nav").addClass("filled"):$(".main-nav").removeClass("filled")}),$(function(){$("a.page-scroll").bind("click",function(a){var b=$(this);$("html, body").stop().animate({scrollTop:$(b.attr("href")).offset().top},1500,"easeInOutExpo"),a.preventDefault()})}),$(document).ready(function(){$(document).on("scroll",onScroll),$('a[href^="#"]').on("click",function(a){a.preventDefault(),$(document).off("scroll"),$("a").each(function(){$(this).removeClass("active")}),$(this).addClass("active");var b=this.hash;$target=$(b),$("html, body").stop().animate({scrollTop:$target.offset().top+2},500,"swing",function(){window.location.hash=b,$(document).on("scroll",onScroll)})})});